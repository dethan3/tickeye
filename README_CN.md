# 🦉 TickEye

**TickEye** 是一个轻量级的基金监测工具，用于跟踪您购买的基金并使用 AkShare API 提供每日表现分析。

[English README](README.md)

## 📌 功能特性

- **基金数据获取**：使用 AkShare API 获取实时基金数据
- **灵活配置**：支持 `基金代码|基金名称` 和 `基金代码` 两种配置格式
- **智能名称解析**：当未提供基金名称时，自动通过 API 获取
- **表现分析**：每日净值和涨跌幅跟踪
- **多基金支持**：同时监测多只基金
- **美观输出**：带有趋势指标的精美控制台输出 (📈📉➡️)

---

## 🧱 项目结构

```sh
tickeye/
├── fund_analysis.py      # ✅ 主要基金分析工具
├── funds_config.txt      # ✅ 基金配置文件
├── monitor/
│   ├── __init__.py
│   ├── fetcher.py        # 🚧 基金数据获取器（遗留）
│   ├── rules.py          # 🚧 监控规则
│   └── notifier.py       # 🚧 通知发送器
├── config/
│   └── settings.yaml     # 🚧 配置文件
├── utils/
│   └── logger.py         # 🚧 日志工具
├── requirements.txt      # ✅ Python 依赖
└── README.md             # ✅ 项目文档
```

---

## ⚙️ 技术栈

| 组件         | 技术/工具                    |
|-------------|------------------------------|
| 编程语言      | Python 3.8+                  |
| 数据获取      | AkShare API                   |
| 数据处理      | pandas                        |
| HTTP 客户端   | requests                      |
| 配置解析      | 文本文件解析                   |

---

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置基金

创建或编辑 `funds_config.txt` 文件，添加您的基金代码：

```txt
# 格式1：基金代码|基金名称
270042|广发纳指联接A
007360|易方达中短期美元债A

# 格式2：仅基金代码（名称自动获取）
001917
006195
```

### 3. 运行基金分析

```bash
# 监测基金 1 天（默认）
python fund_analysis.py

# 监测基金多天
python fund_analysis.py 7
```

### 4. 输出示例

```txt
🦉 TickEye 基金监测工具
====================================================================================================
📋 正在监测 6 只已购买基金...
📅 数据日期: 最近 1 天

====================================================================================================
📊 已购买基金监测报告
====================================================================================================
基金代码     基金名称                                最新日期         单位净值       涨跌幅        趋势   状态        
----------------------------------------------------------------------------------------------------
007360   易方达中短期美元债券（QDII）A(人民币份额)            2025-08-04   1.2049     0.00%      ➡️   正常        
001917   招商量化精选股票A                           2025-08-05   3.1937     0.98%      📈    正常        
270042   广发纳指100ETF联接（QDII）人民币A              2025-08-04   6.8615     1.67%      📈    正常        
----------------------------------------------------------------------------------------------------
📈 上涨: 2 只  📉 下跌: 0 只  ➡️ 平盘: 1 只  ❌ 失败: 0 只
📊 上涨比例: 66.7%

✅ 基金监测完成!
```

---

## 📌 配置说明

### 基金配置文件格式

`funds_config.txt` 支持两种格式：

1. **完整格式**：`基金代码|基金名称`
   - 示例：`270042|广发纳指联接A`
   - 注意：即使提供了名称，程序仍会优先使用 API 获取的最新名称

2. **简化格式**：`基金代码`
   - 示例：`001917`
   - 基金名称将通过 AkShare API 自动获取

### 注释和空行

- 以 `#` 开头的行为注释行
- 空行会被自动忽略
- 支持行内注释

---

## 🔧 技术特性

### 智能名称解析

程序采用以下优先级获取基金名称：

1. **优先使用 AkShare API** 获取的基金名称（最准确）
2. **如果 API 获取失败**，使用配置文件中的名称作为备选
3. **如果都失败**，返回基金代码本身

### 数据获取

- 使用 AkShare 的 `fund_open_fund_info_em` 和 `fund_individual_basic_info_xq` API
- 自动处理数据清洗和格式转换
- 支持历史数据获取（可指定天数）

### 错误处理

- 完善的错误提示和格式验证
- 基金代码格式检查
- API 调用失败的优雅降级

---

## 📌 未来计划

- **通知系统**：飞书/钉钉/微信推送
- **规则引擎**：自定义监控规则（涨跌幅阈值等）
- **数据存储**：SQLite/CSV 历史数据记录
- **Web 界面**：可选的 Flask Web 仪表板
- **更多数据源**：支持股票、ETF 等其他金融产品

---

## 📄 许可证

[MIT License](LICENSE)

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📞 联系

如有问题或建议，请通过 GitHub Issues 联系。
